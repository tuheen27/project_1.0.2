<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model.js App</title>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; background-color: #f4f4f4; color: #333;">
    <!-- Header -->
    <header style="background-color: #2c3e50; color: white; padding: 1rem; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
        <h1 style="margin: 0;">Task Manager</h1>
        <p style="margin: 0.5rem 0 0;">Organize your work efficiently</p>
    </header>

    <!-- Main Content -->
    <main style="max-width: 800px; margin: 2rem auto; padding: 1rem; background-color: white; border-radius: 5px; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
        <!-- Task Input Form -->
        <div style="margin-bottom: 2rem; padding: 1rem; background-color: #f9f9f9; border-radius: 5px;">
            <h2 style="margin-top: 0; color: #2c3e50; font-size: 1.2rem;">Add New Task</h2>
            <div style="display: flex; gap: 10px;">
                <input id="taskInput" type="text" placeholder="Enter task description" 
                    style="flex: 1; padding: 0.5rem; border: 1px solid #ddd; border-radius: 3px; font-size: 1rem;">
                <select id="prioritySelect" 
                    style="padding: 0.5rem; border: 1px solid #ddd; border-radius: 3px; font-size: 1rem;">
                    <option value="low">Low</option>
                    <option value="medium" selected>Medium</option>
                    <option value="high">High</option>
                </select>
                <button onclick="taskModel.addTask()" 
                    style="background-color: #3498db; color: white; border: none; padding: 0.5rem 1rem; border-radius: 3px; cursor: pointer; font-size: 1rem;">Add</button>
            </div>
        </div>

        <!-- Task Display Area -->
        <div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem;">
                <h2 style="margin: 0; color: #2c3e50; font-size: 1.2rem;">Your Tasks</h2>
                <div>
                    <button onclick="taskModel.filterTasks('all')" 
                        style="background-color: #7f8c8d; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 3px; cursor: pointer; margin-left: 5px; font-size: 0.9rem;">All</button>
                    <button onclick="taskModel.filterTasks('active')" 
                        style="background-color: #2ecc71; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 3px; cursor: pointer; margin-left: 5px; font-size: 0.9rem;">Active</button>
                    <button onclick="taskModel.filterTasks('completed')" 
                        style="background-color: #9b59b6; color: white; border: none; padding: 0.3rem 0.8rem; border-radius: 3px; cursor: pointer; margin-left: 5px; font-size: 0.9rem;">Completed</button>
                </div>
            </div>
            
            <!-- Task List Container -->
            <div id="taskList" style="margin-top: 1rem;">
                <!-- Tasks will be inserted here dynamically -->
                <div style="text-align: center; color: #7f8c8d; padding: 2rem 0;">Loading tasks...</div>
            </div>
        </div>
    </main>

    <!-- Stats Footer -->
    <footer style="background-color: #ecf0f1; padding: 1rem; text-align: center; font-size: 0.9rem; color: #7f8c8d; border-top: 1px solid #ddd;">
        <div id="taskStats">
            Total: <span id="totalTasks">0</span> | 
            Active: <span id="activeTasks">0</span> | 
            Completed: <span id="completedTasks">0</span>
        </div>
        <div style="margin-top: 0.5rem;">
            Last updated: <span id="lastUpdated">Never</span>
        </div>
    </footer>

    <!-- Inline JavaScript for Model Implementation -->
    <script>
        // Simple Model.js implementation
        const taskModel = {
            // State
            tasks: [],
            filter: 'all',
            
            // Initialize the app
            init: function() {
                // Load tasks from localStorage if available
                const savedTasks = localStorage.getItem('tasks');
                if (savedTasks) {
                    this.tasks = JSON.parse(savedTasks);
                } else {
                    // Sample tasks for demonstration
                    this.tasks = [
                        { id: 1, text: 'Learn Model.js pattern', completed: false, priority: 'high' },
                        { id: 2, text: 'Build a task manager app', completed: true, priority: 'medium' },
                        { id: 3, text: 'Deploy application', completed: false, priority: 'low' }
                    ];
                }
                
                // Render initial state
                this.render();
                this.updateStats();
            },
            
            // Generate unique ID for tasks
            generateId: function() {
                return Date.now();
            },
            
            // Add a new task
            addTask: function() {
                const input = document.getElementById('taskInput');
                const priority = document.getElementById('prioritySelect');
                
                if (input.value.trim() === '') {
                    alert('Please enter a task description');
                    return;
                }
                
                const newTask = {
                    id: this.generateId(),
                    text: input.value.trim(),
                    completed: false,
                    priority: priority.value
                };
                
                this.tasks.push(newTask);
                this.saveToLocalStorage();
                
                // Clear input field
                input.value = '';
                
                // Update UI
                this.render();
                this.updateStats();
            },
            
            // Toggle task completion status
            toggleTask: function(id) {
                const task = this.tasks.find(task => task.id === id);
                if (task) {
                    task.completed = !task.completed;
                    this.saveToLocalStorage();
                    this.render();
                    this.updateStats();
                }
            },
            
            // Delete a task
            deleteTask: function(id) {
                this.tasks = this.tasks.filter(task => task.id !== id);
                this.saveToLocalStorage();
                this.render();
                this.updateStats();
            },
            
            // Filter tasks by status
            filterTasks: function(filterType) {
                this.filter = filterType;
                this.render();
            },
            
            // Save tasks to localStorage
            saveToLocalStorage: function() {
                localStorage.setItem('tasks', JSON.stringify(this.tasks));
                document.getElementById('lastUpdated').textContent = new Date().toLocaleTimeString();
            },
            
            // Update task statistics
            updateStats: function() {
                document.getElementById('totalTasks').textContent = this.tasks.length;
                document.getElementById('activeTasks').textContent = this.tasks.filter(t => !t.completed).length;
                document.getElementById('completedTasks').textContent = this.tasks.filter(t => t.completed).length;
            },
            
            // Render the task list
            render: function() {
                const taskList = document.getElementById('taskList');
                
                // Filter tasks according to current filter
                let filteredTasks = this.tasks;
                if (this.filter === 'active') {
                    filteredTasks = this.tasks.filter(t => !t.completed);
                } else if (this.filter === 'completed') {
                    filteredTasks = this.tasks.filter(t => t.completed);
                }
                
                // Clear current list
                taskList.innerHTML = '';
                
                // If no tasks match filter
                if (filteredTasks.length === 0) {
                    taskList.innerHTML = `<div style="text-align: center; color: #7f8c8d; padding: 2rem 0;">No ${this.filter} tasks found</div>`;
                    return;
                }
                
                // Create task elements
                filteredTasks.forEach(task => {
                    // Set priority colors
                    let priorityColor = '#3498db'; // Default medium blue
                    if (task.priority === 'high') {
                        priorityColor = '#e74c3c'; // Red
                    } else if (task.priority === 'low') {
                        priorityColor = '#2ecc71'; // Green
                    }
                    
                    // Create task item HTML
                    const taskItem = document.createElement('div');
                    taskItem.style = `
                        display: flex;
                        align-items: center;
                        padding: 0.8rem;
                        border-left: 4px solid ${priorityColor};
                        background-color: white;
                        margin-bottom: 0.5rem;
                        border-radius: 3px;
                        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
                    `;
                    
                    // Task status checkbox
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.checked = task.completed;
                    checkbox.style = 'margin-right: 10px; cursor: pointer;';
                    checkbox.onclick = () => this.toggleTask(task.id);
                    
                    // Task text content
                    const textSpan = document.createElement('span');
                    textSpan.textContent = task.text;
                    textSpan.style = `
                        flex: 1;
                        ${task.completed ? 'text-decoration: line-through; color: #7f8c8d;' : ''}
                    `;
                    
                    // Priority badge
                    const priorityBadge = document.createElement('span');
                    priorityBadge.textContent = task.priority;
                    priorityBadge.style = `
                        background-color: ${priorityColor};
                        color: white;
                        padding: 0.2rem 0.5rem;
                        border-radius: 3px;
                        font-size: 0.8rem;
                        margin-right: 10px;
                    `;
                    
                    // Delete button
                    const deleteBtn = document.createElement('button');
                    deleteBtn.innerHTML = '&times;'; // × symbol
                    deleteBtn.style = `
                        background: none;
                        border: none;
                        color: #e74c3c;
                        font-size: 1.2rem;
                        cursor: pointer;
                        padding: 0 5px;
                    `;
                    deleteBtn.onclick = () => this.deleteTask(task.id);
                    
                    // Assemble task item
                    taskItem.appendChild(checkbox);
                    taskItem.appendChild(textSpan);
                    taskItem.appendChild(priorityBadge);
                    taskItem.appendChild(deleteBtn);
                    
                    // Add to task list
                    taskList.appendChild(taskItem);
                });
            }
        };
        
        // Initialize the app when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            taskModel.init();
        });
    </script>
</body>
</html>